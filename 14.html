<!DOCTYPE html>
<head>
    <title></title>
    
</head>
<body>
    <div>
        <form id="form">
            <input type = "email" id = "input" placeholder = "email">
            <input type = "password" id = "password" placeholder = "password">
            <input type = "checkbox" id = "checkbox">
            <br/>
            <button type = "submit">Submit</button>
        </form>
        <textarea id="message" rows="5" cols="30"></textarea>
        <p id="output"></p>
        <p id="length"></p>
    </div>
    <script type = "text/javascript">
        function repeatInput() {
            const input = document.getElementById("input");
            const p = document.getElementById("output");
            input.addEventListener("input", () => p.textContent = input.value);
        }

        function symbolNumber() {
        const message = document.getElementById("message");
        const q = document.getElementById("length");
        message.addEventListener("input", (event) => {
            const length = message.value.length;
            console.log(length);
            q.textContent = length;
        })
        }

        function checkBox() {
            const pass = document.getElementById("password");
            const check = document.getElementById("checkbox");
            check.addEventListener("change", () => {
                if (check.checked === true) {
                    pass.type = "text";
                }
                else pass.type = "password"
            })
        }

        function checkEmail() {
            const input = document.getElementById("input");
            input.addEventListener("blur" , () => {
                const regest = /^\[^@\\s\]+@\[^@\\s\]+\\.\[^@\\s\]+$/;
                if (!regest.test(input.value)) {
                    console.error("invalid email");
                }
            })
        }

        repeatInput();
        symbolNumber();
        checkBox();
        checkEmail();
    </script>
</body>